// Code generated - DO NOT EDIT.

package {{.PackageName}}

import (
	"context"
	hostchain "{{.HostChainModule}}"
	"github.com/ipfs/go-log"
	"math/big"
)

type loggingWrapper struct {
	HostChainClient

	logger log.EventLogger
}

func (lw *loggingWrapper) SuggestGasPrice(
	ctx context.Context,
) (*big.Int, error) {
	price, err := lw.HostChainClient.SuggestGasPrice(ctx)

	if err != nil {
		lw.logger.Debugf("error requesting gas price suggestion: [%v]", err)
		return nil, err
	}

	lw.logger.Debugf("received gas price suggestion: [%v]", price)
	return price, nil
}

func (lw *loggingWrapper) EstimateGas(
	ctx context.Context,
	msg hostchain.CallMsg,
) (uint64, error) {
	gas, err := lw.HostChainClient.EstimateGas(ctx, msg)

	if err != nil {
		return 0, err
	}

	lw.logger.Debugf("received gas estimate: [%v]", gas)
	return gas, nil
}

// WrapCallLogging wraps certain call-related methods on the given `client`
// with debug logging sent to the given `logger`. Actual functionality is
// delegated to the passed client.
func WrapCallLogging(
	logger log.EventLogger,
	client HostChainClient,
) HostChainClient {
	return &loggingWrapper{client, logger}
}